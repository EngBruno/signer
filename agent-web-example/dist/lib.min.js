var Promise=function(){var e=null,t=null;this.success=function(t){return e=t,this},this.error=function(e){return t=e,this},this.resolve=function(t){e(t)},this.hasCallbackError=function(){return null!==t},this.reject=function(e){t(e)}},SignerDesktopClient=function(){var e,t=null,n="ws://localhost:9091/",i=!1,o=function(e){i&&console.log(e)},a={setUriServer:function(e){o("Setting URI to "+e),n=e},setDebug:function(e){o("Setting debug on to "+(e?"ON":"OFF")),i=e},connect:function(i,a,r){null!=e&&1==e.readyState||(o("Connecting on "+n),e=new WebSocket(n),e.onopen=function(e){i&&i(e.target.readyState)},e.onclose=function(e){a&&a(e.target.readyState)},e.onmessage=function(e){var n=JSON.parse(e.data);void 0!==n&&void 0!==n.error?t.hasCallbackError()?t.reject(n):r&&r(n):t.resolve(n)},e.onerror=function(e){t.hasCallbackError()?t.reject(e):r&&r(e)})},isConnected:function(){return null!=e&&1==e.readyState},signer:function(e,t,n,i){var o={command:"signer",type:"raw",format:"text",compacted:!1,alias:e,signaturePolicy:i,provider:t,content:n},r=a.execute(o);return r},signerFile:function(e,t,n,i){var o={command:"filesigner",type:"raw",format:"text",compacted:!1,alias:e,signaturePolicy:i,provider:t,content:n},r=a.execute(o);return r},logoutPKCS11:function(){var t={command:"logoutpkcs11"};e.send(JSON.stringify(t))},status:function(){var e={command:"status"},t=a.execute(e);return t},listCerts:function(){var e={command:"listcerts"},t=a.execute(e);return t},listPolicies:function(){var e={command:"listpolicies"},t=a.execute(e);return t},getFiles:function(){var e={command:"getfiles"},t=a.execute(e);return t},shutdown:function(){var t={command:"shutdown"};e.send(JSON.stringify(t))},execute:function(i){return o("Sending command ["+i.command+"] to URI ["+n+"]"),t=new Promise,e.send(JSON.stringify(i)),t}};return a}();!function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]),angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]),angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(e){var t=["$q","$cacheFactory","$timeout","$rootScope","$log","cfpLoadingBar",function(t,n,i,o,a,r){function c(){i.cancel(l),r.complete(),d=0,u=0}function s(t){var i,o=n.get("$http"),a=e.defaults;!t.cache&&!a.cache||t.cache===!1||"GET"!==t.method&&"JSONP"!==t.method||(i=angular.isObject(t.cache)?t.cache:angular.isObject(a.cache)?a.cache:o);var r=void 0!==i&&void 0!==i.get(t.url);return void 0!==t.cached&&r!==t.cached?t.cached:(t.cached=r,r)}var l,u=0,d=0,p=r.latencyThreshold;return{request:function(e){return e.ignoreLoadingBar||s(e)||(o.$broadcast("cfpLoadingBar:loading",{url:e.url}),0===u&&(l=i(function(){r.start()},p)),u++,r.set(d/u)),e},response:function(e){return e&&e.config?(e.config.ignoreLoadingBar||s(e.config)||(d++,o.$broadcast("cfpLoadingBar:loaded",{url:e.config.url,result:e}),d>=u?c():r.set(d/u)),e):(a.error("Broken interceptor detected: Config object not supplied in response:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),e)},responseError:function(e){return e&&e.config?(e.config.ignoreLoadingBar||s(e.config)||(d++,o.$broadcast("cfpLoadingBar:loaded",{url:e.config.url,result:e}),d>=u?c():r.set(d/u)),t.reject(e)):(a.error("Broken interceptor detected: Config object not supplied in rejection:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),t.reject(e))}}}];e.interceptors.push(t)}]),angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.autoIncrement=!0,this.includeSpinner=!0,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>',this.$get=["$injector","$document","$timeout","$rootScope",function(e,t,n,i){function o(){if(u||(u=e.get("$animate")),n.cancel(p),!v){var o=t[0],r=o.querySelector?o.querySelector(f):t.find(f)[0];r||(r=o.getElementsByTagName("body")[0]);var c=angular.element(r),s=r.lastChild&&angular.element(r.lastChild);i.$broadcast("cfpLoadingBar:started"),v=!0,S&&u.enter(g,c,s),C&&u.enter(m,c,g),a($)}}function a(e){if(v){var t=100*e+"%";h.css("width",t),y=e,b&&(n.cancel(d),d=n(function(){r()},250))}}function r(){if(!(c()>=1)){var e=0,t=c();e=t>=0&&.25>t?(3*Math.random()+3)/100:t>=.25&&.65>t?3*Math.random()/100:t>=.65&&.9>t?2*Math.random()/100:t>=.9&&.99>t?.005:0;var n=c()+e;a(n)}}function c(){return y}function s(){y=0,v=!1}function l(){u||(u=e.get("$animate")),i.$broadcast("cfpLoadingBar:completed"),a(1),n.cancel(p),p=n(function(){var e=u.leave(g,s);e&&e.then&&e.then(s),u.leave(m)},500)}var u,d,p,f=this.parentSelector,g=angular.element(this.loadingBarTemplate),h=g.find("div").eq(0),m=angular.element(this.spinnerTemplate),v=!1,y=0,b=this.autoIncrement,C=this.includeSpinner,S=this.includeBar,$=this.startSize;return{start:o,set:a,status:c,inc:r,complete:l,autoIncrement:this.autoIncrement,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})}(),angular.module("ui-notification",[]),angular.module("ui-notification").provider("Notification",function(){this.options={delay:5e3,startTop:10,startRight:10,verticalSpacing:10,horizontalSpacing:10,positionX:"right",positionY:"top",replaceMessage:!1,templateUrl:"angular-ui-notification.html",onClose:void 0,closeOnClick:!0,maxCount:0,container:"body"},this.setOptions=function(e){if(!angular.isObject(e))throw new Error("Options should be an object!");this.options=angular.extend({},this.options,e)},this.$get=["$timeout","$http","$compile","$templateCache","$rootScope","$injector","$sce","$q","$window",function(e,t,n,i,o,a,r,c,s){var l=this.options,u=l.startTop,d=l.startRight,p=l.verticalSpacing,f=l.horizontalSpacing,g=l.delay,h=[],m=!1,v=function(a,v){function y(t){function i(e){["-webkit-transition","-o-transition","transition"].forEach(function(t){g.css(t,e)})}var o=a.scope.$new();o.message=r.trustAsHtml(a.message),o.title=r.trustAsHtml(a.title),o.t=a.type.substr(0,1),o.delay=a.delay,o.onClose=a.onClose;var c=function(){for(var e=0,t=0,n=u,i=d,o=[],r=h.length-1;r>=0;r--){var c=h[r];if(a.replaceMessage&&r<h.length-1)c.addClass("killed");else{var s=parseInt(c[0].offsetHeight),g=parseInt(c[0].offsetWidth),m=o[c._positionY+c._positionX];v+s>window.innerHeight&&(m=u,t++,e=0);var v=n=m?0===e?m:m+p:u,y=i+t*(f+g);c.css(c._positionY,v+"px"),"center"==c._positionX?c.css("left",parseInt(window.innerWidth/2-g/2)+"px"):c.css(c._positionX,y+"px"),o[c._positionY+c._positionX]=v+s,l.maxCount>0&&h.length>l.maxCount&&0===r&&c.scope().kill(!0),e++}}},g=n(t)(o);g._positionY=a.positionY,g._positionX=a.positionX,g.addClass(a.type);var v=function(e){e=e.originalEvent||e,("click"===e.type||"opacity"===e.propertyName&&e.elapsedTime>=1)&&(o.onClose&&o.$apply(o.onClose(g)),g.remove(),h.splice(h.indexOf(g),1),o.$destroy(),c())};a.closeOnClick&&(g.addClass("clickable"),g.bind("click",v)),g.bind("webkitTransitionEnd oTransitionEnd otransitionend transitionend msTransitionEnd",v),angular.isNumber(a.delay)&&e(function(){g.addClass("killed")},a.delay),i("none"),angular.element(document.querySelector(a.container)).append(g);var y=-(parseInt(g[0].offsetHeight)+50);if(g.css(g._positionY,y+"px"),h.push(g),"center"==a.positionX){var C=parseInt(g[0].offsetWidth);g.css("left",parseInt(window.innerWidth/2-C/2)+"px")}e(function(){i("")}),o._templateElement=g,o.kill=function(t){t?(o.onClose&&o.$apply(o.onClose(o._templateElement)),h.splice(h.indexOf(o._templateElement),1),o._templateElement.remove(),o.$destroy(),e(c)):o._templateElement.addClass("killed")},e(c),m||(angular.element(s).bind("resize",function(t){e(c)}),m=!0),b.resolve(o)}var b=c.defer();"object"!=typeof a&&(a={message:a}),a.scope=a.scope?a.scope:o,a.template=a.templateUrl?a.templateUrl:l.templateUrl,a.delay=angular.isUndefined(a.delay)?g:a.delay,a.type=v||a.type||l.type||"",a.positionY=a.positionY?a.positionY:l.positionY,a.positionX=a.positionX?a.positionX:l.positionX,a.replaceMessage=a.replaceMessage?a.replaceMessage:l.replaceMessage,a.onClose=a.onClose?a.onClose:l.onClose,a.closeOnClick=null!==a.closeOnClick&&void 0!==a.closeOnClick?a.closeOnClick:l.closeOnClick,a.container=a.container?a.container:l.container;var C=i.get(a.template);return C?y(C):t.get(a.template,{cache:!0}).then(y).catch(function(e){throw new Error("Template ("+a.template+") could not be loaded. "+e)}),b.promise};return v.primary=function(e){return this(e,"primary")},v.error=function(e){return this(e,"error")},v.success=function(e){return this(e,"success")},v.info=function(e){return this(e,"info")},v.warning=function(e){return this(e,"warning")},v.clearAll=function(){angular.forEach(h,function(e){e.addClass("killed")})},v}]}),angular.module("ui-notification").run(["$templateCache",function(e){e.put("angular-ui-notification.html",'<div class="ui-notification"><h3 ng-show="title" ng-bind-html="title"></h3><div class="message" ng-bind-html="message"></div></div>')}]);